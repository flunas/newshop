<div class="single">
    <div class="single_left">
        <div class="Categories">
            <div class="cate_h3">
                <h3>Categories</h3>
            </div>
            <div class="cate_box">
                <ul class="cate_ul">
                    <li>
                        <a class="li_click">Men</a>
                        <ul class="sm_ul">
                            <li>123</li>
                            <li>123</li>
                            <li>123</li>
                        </ul>
                    </li>
                    <li>
                        <a class="li_click">Women</a>
                        <ul class="sm_ul">
                            <li>123</li>
                            <li>123</li>
                            <li>123</li>
                        </ul>
                    </li>
                    <li>
                        <a class="li_click">Kids</a>
                        <ul class="sm_ul">
                            <li>123</li>
                            <li>123</li>
                            <li>123</li>
                        </ul>
                    </li>
                    <li>
                        <a class="li_click">Accesories</a>
                        <ul class="sm_ul">
                            <li>123</li>
                            <li>123</li>
                            <li>123</li>
                        </ul>
                    </li>
                    <li>
                        <a class="li_click">shoes</a>
                        <ul class="sm_ul">
                            <li>123</li>
                            <li>123</li>
                            <li>123</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <div class="sm_product">
            <img src="images/product1.jpg" alt="">
            <div class="sm_product_tips">
                <span>Lorem Ipsum</span>
                <button>SHOP NOW</button>
            </div>
        </div>
        <div class="tags">
            <div class="tags_h3">
                <h3>Tags</h3>
            </div>
            <div class="tags_box">
                <ul class="tags_ul">
                    <li>
                        <button>design</button>
                    </li>
                    <li>
                        <button>fashion</button>
                    </li>
                    <li>
                        <button>lorem</button>
                    </li>
                    <li>
                        <button>dress</button>
                    </li>
                    <li>
                        <button>fashion</button>
                    </li>
                    <li>
                        <button>dress</button>
                    </li>
                    <li>
                        <button>design</button>
                    </li>
                    <li>
                        <button>lorem</button>
                    </li>
                    <li>
                        <button>fashion</button>
                    </li>
                </ul>
            </div>
        </div>
        <div class="Best_Sellers">
            <div class="BS_h3">
                <h3>Best Sellers</h3>
            </div>
            <div class="BS_box">
                <ul class="BS_box_ul">
                    <li>
                        <div class="li_left">
                            <img src="images/p1.jpg" alt="">
                        </div>
                        <div class="li_right">
                            <span>
                                Lorem ipsum dolor sitamet consectetuer
                            </span>
                            <h2>$40.00</h2>
                        </div>
                    </li>
                    <li>
                        <div class="li_left">
                            <img src="images/p2.jpg" alt="">
                        </div>
                        <div class="li_right">
                            <span>
                                Lorem ipsum dolor sitamet consectetuer
                            </span>
                            <h2>$40.00</h2>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="discount">
            <img src="images/pro.jpg" alt="">
            <div class="discount_tips">
                <h2 class="text-center">DISCOUNT</h2>
                <h3 class="text-center">Up to</h3>
                <h1 class="text-center">60%</h1>
            </div>
        </div>
    </div>
    <div class="single_right">
        <div class="single_box_top">
            <div class="sb_top_left">
                <div class="img_box">
                    <!-- 轮播图 -->
                    <img ng-repeat="obj in pdpic" name="{{obj.pid}}_pic" ng-src="{{obj.purl}}" alt="">
                </div>
                <div class="ul_box">
                    <ul>
                        <li ng-repeat="obj in pdpic" name="{{obj.pid}}">
                            <img ng-src="{{obj.purl}}" alt="">
                        </li>
                    </ul>
                </div>
            </div>
            <div class="sb_top_right">
                <div class="str_box">
                    <h1>{{pdetail.pname}}</h1>
                    <span>
                        <i class="star fa-star"></i>
                        <i class="star fa-star"></i>
                        <i class="star fa-star"></i>
                        <i class="star fa-star"></i>
                        <i class="star fa-star"></i>
                        <i class="num">1</i>
                        <i class="num">customer review</i>
                    </span>
                    <h2><i class="dollar fa-dollar"> {{pdetail.price}}</i></h2>
                    <hr>
                    <p>
                        {{pdetail.ptips}}
                    </p>
                    <div class="select">
                        <div class="color_select">
                            <span>Color</span>
                            <select ng-model="color" name="color">
                                <option ng-repeat="tmp in pdcolor" value="{{tmp}}">
                                    {{tmp}}
                                </option>
                            </select>
                        </div>
                        <div class="size_select">
                            <span>Size</span>
                            <select ng-model="size" name="size">
                                <option ng-repeat="tmp in pdsize" value="{{tmp}}">
                                    {{tmp}}
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="sbox_tips">
                        <p>
                            <span>TAG:</span>
                            <span>{{pdetail.type}}</span>
                        </p>
                        <p>
                            <span>SKU:</span>
                            <span>{{pdetail.pdate}}</span>
                        </p>
                    </div>
                    <div class="addcar">
                        <button ng-click="addCar()">Add To Cart</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="single_box_bottom">
            <div class="sbb_top">
                <div class="sbb_top_menu">
                    <button name="des">Description</button>
                    <button name="addinfo">Addtional Information</button>
                    <button name="review">Reviews (<i>1</i>)</button>
                </div>
                <div class="sbb_top_main">
                    <div name="des_main" class="description_main">
                        <img ng-repeat="obj in description" ng-src="{{obj.purl}}" alt="">
                    </div>
                    <div name="addinfo_main" class="add_information_main">
                        <ul>
                            <li>
                                <span class="span_lf">Color</span>
                                <span class="span_rt">{{pdetail.color}}</span>
                            </li>
                            <li>
                                <span class="span_lf">Size</span>
                                <span class="span_rt">{{pdetail.size}}</span>
                            </li>
                        </ul>
                    </div>
                    <div name="review_main" class="review">
                        <ul class="review_ul">
                            <li>
                                <div class="user_img">
                                    <img src="images/co.png" alt="">
                                </div>
                                <div class="user_main">
                                    <div class="main_tip">
                                        <span><b>Hendri</b>-September 3.2014</span>
                                    </div>
                                    <div>
                                        <i class="star fa-star"></i>
                                        <i class="star fa-star"></i>
                                        <i class="star fa-star"></i>
                                        <i class="star fa-star"></i>
                                        <i class="star fa-star"></i>
                                    </div>
                                    <div class="pd520">
                                        <span>Wow nice!</span>
                                    </div>
                                </div>
                            </li>
                        </ul>
                        <div class="addreview">
                            <button>ADD REVIEW</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sbb_bottom">
                <ul class="pro_box_ul">
                    <li ng-repeat="obj in relatedpddata">
                        <div class="pro_box_ul_li_img">
                            <img ng-src="{{obj.pic}}" alt="">
                            <div ng-click="jump('single',{sex:'{{obj.sex}}',pid:'{{obj.pid}}',type:'{{obj.type}}'})" class="text-center">
                                <button ng-click="jump('single',{sex:'{{obj.sex}}',pid:'{{obj.pid}}',type:'{{obj.type}}'})" class="buyBtn">Buy New</button>
                            </div>
                        </div>
                        <div class="li_tips text-center">
                            <span>{{obj.pname}}</span>
                        </div>
                        <div class="li_button">
                            <button><i class="text-center fa-shopping-cart"></i>${{obj.price}}</button>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script>
    $('.cate_ul').on('click','.li_click',function (e) {
        var target = e.target;
        console.log(target);
        if($(target).siblings('ul').css('display')==='block'){
            $(target).siblings('ul').slideUp(500);
            return;
        }
        $(target).parent().parent().find('.sm_ul').slideUp(500);
        $(target).siblings().slideDown(500);
    });

    $('.pro_box_ul').on('mouseenter','li>.pro_box_ul_li_img',function () {
        $(this).css({cursor:'pointer'});
        $(this).find('.buyBtn').fadeIn(500);
        $(this).parent().css({boxShadow:'0 0 5px #ef5f21'});
    });
    $('.pro_box_ul').on('mouseleave','li>.pro_box_ul_li_img',function () {
        $(this).find('.buyBtn').fadeOut(500);
        $(this).parent().css({boxShadow:'0 0 0 transparent'});
    });


    var singleLb = {
        acIndex:1,
        init:function () {
            this.show();
            var times = setInterval(this.move.bind(this),8000);

            $('.ul_box>ul').on('mouseenter','li',function () {
                $(this).css({opacity:1});
                $(this).click(function () {
                    clearInterval(times);
                    times = null;
                    $(this).css({opacity:1}).siblings().css({opacity:0.5});
                    $('.img_box>img[name='+$(this).attr('name')+'_pic]').addClass('ac').fadeIn(500).siblings().removeClass('ac').fadeOut(500).css({opacity:'1'});
                });
            });
            $('.ul_box>ul').on('mouseleave','li',function () {
                if(($(this).attr('name')+'_pic')===$('.img_box>img[class=ac]').attr('name')){
                    $(this).css({opacity:1});
                    return;
                }
                $(this).css({opacity:0.5});
            });

        },
        move:function () {
            this.acIndex++;
            if(this.acIndex>4){
                this.acIndex=1;
            }
            this.show();
        },
        move2:function () {
            this.acIndex++;
            if(this.acIndex>4){
                this.acIndex=1;
            }
            show();
            console.log('123');
        },
        show:function () {
            $('.img_box>img:nth-child('+this.acIndex+')').addClass('ac').fadeIn(500).css({opacity:1}).siblings().removeClass('ac').fadeOut(500);
            $('.ul_box>ul>li:nth-child('+this.acIndex+')').css({opacity:1}).siblings().css({opacity:0.5});
        }
    };
    singleLb.init();

    $('.sbb_top_menu>button:nth-child(1)').css({background:'#ef5f21',color:'#fff'});
    $('.sbb_top_main>div:nth-child(1)').fadeIn(0);
    $('.sbb_top_menu').on('click','button',function () {
        $(this).css({background:'#ef5f21',color:'#fff'}).siblings().css({background:'#eee',color:'#000'});
        $('.sbb_top_main>div[name='+$(this).attr('name')+'_main]').fadeIn(0).siblings().fadeOut(0);
    })
</script>